## Q. 한 사람이 한 번에 여러 상품을 주문한 경우에도 상품 한 개씩 따로따로 입력해야 하나요? 예를 들어, 장바구니의 경우 장바구니 번호를 pk로 설치해서 따로 입력하면 한 고객에게 장바구니가 여러개 생기게 되는데 이걸 해결할 수 있는 방법이 있는지 궁금합니다! 

A. DB 모델링 방식에 따라 달라짐!     

한 사람이 여러 상품을 구매한 경우 구매 수량을 늘리는 업데이트로 처리할 수도 있고,       
구매 시각까지 같이 관리하기 위해 새 row로 입력하도록 처리할 수도 있음      
장바구니 번호를 pk로 처리할 수도 있음 - `auto-increment` 옵션을 이용하면 쉽게 구현 가능

장바구니가 여러 개 있어 상품이 중복될 경우에는 데이터를 읽을 때 최근 마지막 것만 읽도록 하거나,        
같은 상품은 한 번만 장바구니에 담을 수 있도록 하는 제약조건을 개발 소스에서 insert하기 전에 검사하도록 할 수 있음

이처럼 DB에서 제약조건에 대한 처리로 중복 데이터 방지 가능!

하지만 DB는 WAS보다 항상 비싸기 때문에 시스템 자원을 효율적으로 사용하려면 제약조건의 로직은 WAS에 있는 것이 더 낫다!

### WAS

- Web Application Server

- 웹 서버와 웹 컨테이너가 합쳐진 형태로서, 웹 서버 단독으로는 수행할 수 없는 데이터베이스의 조회나 다양한 로직 처리가 필요한 동적 컨텐츠 제공
- 대표적으로 Tomcat이 있음

- **웹 서버** 
    - 웹 브라우저 클라이언트로부터 HTTP 요청을 받아들이고 HTML 문서와 같은 웹 페이지를 반환하는 컴퓨터 프로그램
- **웹 컨테이너**
    - 인터넷 상에서 HTTP 프로토콜을 통해 사용자의 컴퓨터에 애플리케이션을 수행해주는 미들웨어로서, 주로 동적 서버 컨텐츠를 수행하며, 주로 데이터베이스 서버와 같이 수행
    - 웹 서버가 보낸 JSP, PHP 등의 파일을 수행한 결과를 다시 웹 서버로 보내주는 역할

## Q. 과제 예시에서 각 테이블마다 데이터입력일시, 데이터 입력자 컬럼이 추가되어 있는데 실무에서 이 부분이 왜 필요한 것인지 궁금합니다!

<img width="330" alt="스크린샷 2023-12-14 오전 2 59 23" src="https://github.com/bokyung124/AWS_Exercise/assets/53086873/6f08f6b7-433d-471f-b53e-e2a7c84464ce">

<br>

A. 정상적인 경우에는 필요가 없을 수도 있지만, 만약 데이터 작업을 처리하다가 손실이 발생하면 복구하기 위해서 사용되는 보조 조건으로 활용될 수 있음

특정 데이터가 깨지거나 실수로 없어졌거나, 특정 데이터만 문제가 생긴 경우에도 데이터의 입력 유형을 `데이터입력자`로 구분하고, `데이터입력일시`로 시간을 구분하여 한정하면 훨씬 더 빠른 대응이 가능해짐!

필수는 아니지만 상투적으로 많이 쓰이는 설계 방식